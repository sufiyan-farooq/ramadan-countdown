"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[36e3],{108134:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"LeafSnippet_pin",selections:[{args:null,kind:"FragmentSpread",name:"useRichSnippetPin_pin"}],type:"Pin",abstractKey:null};t.hash="f5e7ad2abe4b6d77e0fc29bab4595111",e.exports=t},522686:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useIsIdeaHowTo_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],type:"Pin",abstractKey:null};t.hash="7a1461602f7da496c0f537efcd37006b",e.exports=t},254507:e=>{var t,i,l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useSocialMediaPosting_pin",selections:[{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"datePublished",storageKey:null}],storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null}],storageKey:null},i,{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seoTitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"createdAt",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"pinTitle",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null}],storageKey:null},{alias:"imageSpec_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[t],storageKey:'images(spec:"orig")'}],type:"Pin",abstractKey:null};l.hash="2137d043dd50b30b80dab50626f17c34",e.exports=l},273260:(e,t,i)=>{let l;i.d(t,{M:()=>d});let a=/^(?:adminapp|images|js|css|favicon\.png|client|reporter|webapp)/,n=/(\.mp4|\.mov|\.m3u8)$/,r={mediaUrls:{http:"http://i.pinimg.com/",https:"https://i.pinimg.com/"},assetUrls:{http:"http://s.pinimg.com/",https:"https://s.pinimg.com/"}};class o{getAssetHost(e){return r.assetUrls[e]}getMediaHost(e){return r.mediaUrls[e]}}function d(e){let t="https";if(!e||e.startsWith("http"))return e;if(e.startsWith("//"))return`${t}:${e}`;e.startsWith("/")&&(e=e.substring(1));let i=(l||(l=new o),l);if(-1!==e.substring(0,11).search(a))return i.getAssetHost(t)+e;if(-1===e.search(n))return i.getMediaHost(t)+e;throw Error("Video Host not implemented in CdnUtils.js")}},50823:(e,t,i)=>{i.d(t,{U3:()=>f,f5:()=>g,lP:()=>h,ol:()=>y});var l=i(273260);i(349700);var a=i(992750);i(784641);var n=i(826067),r=i(170168);let o=e=>e,d,s=(0,l.M)("/images/default_open_graph_1200.png"),u="noindex,noimageindex",c=r.Vi;function p(e,t){return["alternate",`https://www.pinterest.com/oembed.json?url=${e}&ref=oembed-discovery`,{title:t._('Find inspiration on Pinterest today!', ' - ', 'find inspiration on pinterest oembed discovery title'),type:"application/json+oembed"}]}function v(e){if(!e)return"";try{let t=new Date(e);return t.toISOString()}catch(e){return""}}function _({relativePath:e,origin:t=r.C0}){return`${t}${e}`}let m=["link","tracked_link","seo_title","seo_description","seo_url","seo_noindex_reason","created_at","repin_count","pin_join","images","category","board","pinner"],g=e=>!m.find(t=>!Object.prototype.hasOwnProperty.call(e,t));function h({data:e,origin:t,i18n:i}){var l,n,r;let{id:o,board:d,created_at:m,link:g,pinner:h,pin_join:f,repin_count:y,seo_description:b,seo_title:P,seo_noindex_reason:k,tracked_link:w,seo_url:S,images:T}=e,A=null==h?void 0:h.username,D=!k&&f?f.seo_canonical_domain:c,V=!k&&f?f.seo_canonical_url:(0,a.bN)({pinId:o,seoUrl:S}),j=_({origin:D?`https://${D}`:t,relativePath:V}),x=[p(j,i)],I=null!=T&&null!==(l=T["736x"])&&void 0!==l&&l.url?T["736x"].url:s,L={"og:image":I,"og:image:height":(null!=T&&null!==(n=T["736x"])&&void 0!==n&&n.height?T["736x"].height:200).toString(),"og:image:width":(null!=T&&null!==(r=T["736x"])&&void 0!==r&&r.width?T["736x"].width:200).toString(),"og:type":"pinterestapp:pin","og:updated_time":v(m),"og:url":j,"twitter:image:src":I,"pinterestapp:repins":y?y.toString():"0"};return P&&(L.title=P,L["twitter:title"]=P,L["og:title"]=P),b&&(L.description=b,L["og:description"]=b,L["twitter:description"]=b),(w||g)&&(L["og:see_also"]=w||g,L["pinterestapp:source"]=w||g),k?L.robots=u:L.robots="max-image-preview:large",null!=d&&d.url&&(L["pinterestapp:pinboard"]=_({relativePath:d.url,origin:t})),A&&(L["pinterestapp:pinner"]=_({relativePath:`/${A}/`,origin:t})),{links:x,canonical_domain:D,canonical_url:V,full_canonical_url:j,no_index_reason:k,metatags:L}}function f({data:e,origin:t,i18n:i}){let{board_order_modified_at:l,category:a,cover_images:n,name:r,owner:o,pin_count:d,seo_canonical_domain:c,seo_description:m,seo_noindex_reason:g,seo_title:h,url:f}=e,y=(null==o?void 0:o.username)||"",b=n&&n["200x150"]&&n["200x150"].url||s,P=f&&_({origin:c?`https://${c}`:t,relativePath:f}),k=P?[p(P,i)]:[],w={"og:image":b,"og:type":"pinterestapp:pinboard","og:updated_time":v(l),"pinterestapp:pinner":_({relativePath:`/${y}/`,origin:t}),"pinterestapp:pins":(d||0).toString(),"twitter:image:src":b};return h&&(w.title=h,w["og:title"]=h),m&&(w.description=m,w["og:description"]=m,w["twitter:description"]=m),a&&(w["pinterestapp:category"]=a),r&&(w["twitter:title"]=r),P&&(w["og:url"]=P),g&&(w.robots=u),{links:k,no_index_reason:g,metatags:w,full_canonical_url:P,...c?{canonical_domain:c}:null}}function y({data:e,origin:t,i18n:i}){let{seo_canonical_domain:a,seo_description:r,seo_noindex_reason:s,seo_title:c,username:v}=e,m=_({origin:a?`https://${a}`:t,relativePath:(0,n.tV)(d||(d=o`/${0}/`),v)}),g=[p(m,i)],h={"og:type":"profile","og:url":m,"og:image":(0,l.M)("/images/default_open_graph_1200.png"),"twitter:image:src":(0,l.M)("/images/default_open_graph_1200.png")};return r&&(h.description=r,h["og:description"]=r,h["twitter:description"]=r),c&&(h.title=c,h["og:title"]=c,h["twitter:title"]=c),s&&(h.robots=u),{links:g,no_index_reason:s,metatags:h,full_canonical_url:m,...a?{canonical_domain:a}:null}}},153209:(e,t,i)=>{i.d(t,{r:()=>l});function l(e,t,i){return!!(e&&e.trim().length>0&&t&&!i)}},480445:(e,t,i)=>{i.r(t),i.d(t,{default:()=>eu});var l,a,n,r=i(667294),o=i(167912),d=i(616550),s=i(898781),u=i(623568),c=i(153209),p=i(780280),v=i(218329),_=i(736688),m=i(992750),g=i(740193),h=i(867820),f=i(428258);let y=[0,1,9],b=[...y,5],P=[...y,6],k=({isEligible:e,hasTitle:t,hasMetadata:i,hasIngredients:l,hasInstructions:a,hasNativeCreator:n,validPages:r,validVideos:o})=>{(0,h.My)("closeup_main_pin.leaf_snippet.is_story_recipe",{isEligible:e,validPages:r.length,validVideos:o.length,hasTitle:t,hasMetadata:i,hasIngredients:l,hasInstructions:a,hasNativeCreator:n,isGuidedRecipe:l&&a})},w=({isEligible:e,hasTitle:t,hasMetadata:i,hasInstructions:l,hasSupplies:a,validPages:n,validVideos:r,validHowToSteps:o})=>{(0,h.My)("closeup_main_pin.leaf_snippet.is_story_how_to",{isEligible:e,validPages:n.length,validVideos:r.length,validHowToSteps:o.length,hasTitle:t,hasMetadata:i,hasSupplies:a,hasInstructions:l})},S=e=>7===e.block_type,T=(e,t)=>!!(S(e)&&(e.blocks||[]).find(e=>t.includes(e.block_type))),A=e=>!!(S(e)&&e.heading),D=e=>e.reduce((e,t)=>{let i=t.blocks||[],l=i.filter(e=>3===e.block_type&&!!e.video).map(e=>{var t,i,l,a,n,r,o,d,s,u,c,p,v,_;return(0,f.Z)({vEXP3:null===(t=e.video)||void 0===t?void 0:null===(i=t.video_list)||void 0===i?void 0:i.V_EXP3,vEXP4:null===(l=e.video)||void 0===l?void 0:null===(a=l.video_list)||void 0===a?void 0:a.V_EXP4,vEXP5:null===(n=e.video)||void 0===n?void 0:null===(r=n.video_list)||void 0===r?void 0:r.V_EXP5,vEXP6:null===(o=e.video)||void 0===o?void 0:null===(d=o.video_list)||void 0===d?void 0:d.V_EXP6,vEXP7:null===(s=e.video)||void 0===s?void 0:null===(u=s.video_list)||void 0===u?void 0:u.V_EXP7,v720P:null===(c=e.video)||void 0===c?void 0:null===(p=c.video_list)||void 0===p?void 0:p.V_720P,vHLSV3MOBILE:null===(v=e.video)||void 0===v?void 0:null===(_=v.video_list)||void 0===_?void 0:_.V_HLSV3_MOBILE})});return[...e,...l]},[]),V=e=>e.filter(e=>2!==e.layout),j=e=>(e.pages||[]).find(e=>0===e.layout),x=(e,t)=>{let i=(e||[]).filter(e=>0!==e.layout&&(e.blocks||[]).length);return i.find(e=>(e.blocks||[]).find(e=>e&&t.includes(e.block_type)))},I=e=>{var t;return(null!==(t=e.pages)&&void 0!==t?t:[]).filter(e=>{var t;let i=null!==(t=e.blocks)&&void 0!==t?t:[],l=[];for(let e of i)0===e.block_type&&l.push(e.text);return!!l.join(" ")})},L=e=>{var t,i;return(null==e?void 0:null===(t=e.images)||void 0===t?void 0:null===(i=t.originals)||void 0===i?void 0:i.url)||""},O=e=>{let t=j(e),i=L(null==t?void 0:t.image_adjusted)||L(null==t?void 0:t.image);if(i)return i;let l=((null==t?void 0:t.blocks)||[]).find(e=>e.image);return L(null==l?void 0:l.image)},$=e=>{var t,i,l;return(null!==(t=null===(i=e.metadata)||void 0===i?void 0:null===(l=i.basics)||void 0===l?void 0:l.list_blocks)&&void 0!==t?t:[]).filter(e=>e&&[7].includes(e.block_type))},E=e=>{var t,i;let l=(null===(t=e.metadata)||void 0===t?void 0:null===(i=t.basics)||void 0===i?void 0:i.key_value_blocks)||[],a=l.reduce((e,{category_type:t,value:i})=>{if(!i)return e;if(0===t)e.cookTime=i;else if(1===t){let t=i.match(/\d+/);t&&(e.recipeYield=t[0])}else 2===t&&(e.difficulty=i);return e},{cookTime:"0",recipeYield:"1",difficulty:"1"}),n=parseInt(a.cookTime,10)>0?a.cookTime:"0",r=(parseInt("0",10)+parseInt(n,10)).toString(),o=parseInt(a.recipeYield,10),d=parseInt(a.difficulty,10)>=1?a.difficulty:"1";return{prepTime:"PT0M",cookTime:`PT${n}M`,totalTime:`PT${r}M`,recipeYield:o,difficulty:d}},C=e=>{if(!e)return[];let t=V(e.pages||[]);return D(t)},M=e=>{let t=e.length>0?e[0].mp4||e[0].hlsv3:null,i=(0,g.us)((null==t?void 0:t.duration)||0),l=i>=6;if(l||e.length<=1)return t;let a=e.map(e=>e.mp4||e.hlsv3).find(e=>{let t=(0,g.us)((null==e?void 0:e.duration)||0);return l=(0,g.jt)(t)});return a||t};function F({pin:e}){var t,i,l,a,n,o;let d=(0,s.ZP)(),u=(null===(t=e.pin_join)||void 0===t?void 0:t.visual_annotation)&&e.pin_join.visual_annotation.join(", "),c=(0,r.useCallback)(({origin:t,pathname:i},l,a,n,r,o)=>{var s,c;let p,v;let{full_canonical_url:m}=null!=l?l:{},h=m||`${t}${i}`,f=e.title||"",y=e.seo_title||"",b=e.description||"",P=(0,g.n_)(a.width||0)||"",k=(0,g.n_)(a.height||0)||"",w=(null===(s=e.aggregated_pin_data)||void 0===s?void 0:s.commentCount)||0;null!==(c=e.native_creator)&&void 0!==c&&c.username&&e.native_creator.profile_url&&(p=(0,g.V_)(e.native_creator.profile_url,e.native_creator.username,e.native_creator.full_name,e.native_creator.follower_count));let{fallbackTitle:S,fallbackDescription:T}=(0,_.fP)("video",f,d),{title:A,description:D}=(0,_.dn)(l,f,b,S,T,y),V=(0,g.LU)(a.duration||g.Ad),j=a.url||"",x=(0,g.h$)(e.created_at);r&&(v={"@type":"SeekToAction",target:`${h}?t={seek_to_second_number}`,"startOffset-input":"required name=seek_to_second_number"});let I=[];return o&&I.push((0,g.Lm)("WatchAction",o)),e.reaction_counts_data&&I.push((0,g.Lm)("LikeAction",Number(e.reaction_counts_data))),e.share_count&&I.push((0,g.Lm)("ShareAction",e.share_count)),{"@type":"VideoObject","@context":"http://schema.org/","@id":h,name:A,description:D,caption:n||D,commentCount:w,thumbnailUrl:a.thumbnail||"",uploadDate:x,duration:V||void 0,width:P||void 0,height:k||void 0,contentUrl:j,potentialAction:v,interactionStatistic:I,creator:p,keywords:u}},[d,u,null===(i=e.aggregated_pin_data)||void 0===i?void 0:i.commentCount,e.created_at,e.description,null===(l=e.native_creator)||void 0===l?void 0:l.follower_count,null===(a=e.native_creator)||void 0===a?void 0:a.full_name,null===(n=e.native_creator)||void 0===n?void 0:n.profile_url,null===(o=e.native_creator)||void 0===o?void 0:o.username,e.reaction_counts_data,e.seo_title,e.share_count,e.title]);return{getVideoJson:c}}function N({pin:e}){let{getVideoJson:t}=F({pin:e}),i=(0,r.useCallback)(({origin:e,pathname:i},l,a)=>{let n=I(a),r=!1,o=n.map(a=>{var n,o,d,s,u,c,p,v,_,m;let g=null!==(n=a.blocks)&&void 0!==n?n:[],h=[];for(let e of g)0===e.block_type&&h.push(e.text);let y=h.join(" "),b={"@type":"HowToStep",text:y};for(let a of g){if(3===a.block_type&&a.video){let n=(0,f.Z)({vEXP3:null===(o=a.video.video_list)||void 0===o?void 0:o.V_EXP3,vEXP4:null===(d=a.video.video_list)||void 0===d?void 0:d.V_EXP4,vEXP5:null===(s=a.video.video_list)||void 0===s?void 0:s.V_EXP5,vEXP6:null===(u=a.video.video_list)||void 0===u?void 0:u.V_EXP6,vEXP7:null===(c=a.video.video_list)||void 0===c?void 0:c.V_EXP7,v720P:null===(p=a.video.video_list)||void 0===p?void 0:p.V_720P,vHLSV3MOBILE:null===(v=a.video.video_list)||void 0===v?void 0:v.V_HLSV3_MOBILE}),_=n.mp4||n.hlsv3;if(_){b.video=t({origin:e,pathname:i},l,{duration:_.duration,height:_.height,thumbnail:_.thumbnail,url:_.url,width:_.width},y,!1),r=!0;break}}if(2===a.block_type&&a.image){let e=null===(_=a.image)||void 0===_?void 0:null===(m=_.images)||void 0===m?void 0:m.originals;if(e){b.image=e.url;break}}}return b});return o.length>=2?{howToSteps:o,containsNestedVideo:r}:{howToSteps:[],containsNestedVideo:r}},[t]);return{generateHowToSteps:i}}let K=e=>{let t=$(e),i=t.map(e=>{var t;return(null!==(t=e.blocks)&&void 0!==t?t:[]).filter(e=>e&&!!e.text&&[0,9,1,6].includes(e.block_type)).map(e=>({"@type":"HowToSupply",name:e.text||""}))});return i.flat()},z=e=>e?new Date(Date.parse(e)).toISOString():"",H=e=>{var t,i,l;let a=(null===(t=e.metadata)||void 0===t?void 0:null===(i=t.basics)||void 0===i?void 0:null===(l=i.list_blocks)||void 0===l?void 0:l.filter(e=>T(e,b)||A(e)))||[];return a.map(e=>{let t=e.blocks||[];return t.length>0?t.map(e=>(e.text||"").trim()):[(e.heading||"").trim()]}).flat()},R=e=>{if(!e)return;let t=e=>{let t=e||{},i=t.h||0,l=t.m||0,a="PT",n=!1;return i>0&&(a+=i.toString()+"H",n=!0),l>0&&(a+=l.toString()+"M",n=!0),n?a:""},i={};return e.total&&(i.totalTime=t(e.total)),e.cook&&(i.cookTime=t(e.cook)),e.prep&&(i.prepTime=t(e.prep)),i},Z=e=>{if(!(null!=e&&e.categorized_ingredients))return;let t=[];if(e.categorized_ingredients.forEach(e=>{(e.ingredients||[]).forEach(e=>{let i=[];e.amt&&i.push(e.amt),e.name&&(i.push(e.name),t.push(i.join(" ")))})}),t.length>1)return{recipeIngredient:t}};var X=i(513431);let U=void 0!==l?l:l=i(522686),B=e=>({title:e.title});var J=i(844255),W=i(841726);let Y=(e,t)=>e?(0,W.o)(e).trim():(t||"").trim(),Q=(e,t)=>{let i=t||e;if(i){let e=new Date(Date.parse(i));if(e)return e.toISOString()}},G=(e,t)=>e&&t?{sharedContent:{"@type":"WebPage",headline:t,url:e}}:void 0,q=void 0!==a?a:a=i(254507),ee=e=>{var t;return{createdAt:e.created_at,description:e.description,gridTitle:e.grid_title,imageSpec_orig:(null===(t=e.images)||void 0===t?void 0:t.orig)&&{url:e.images.orig.url},pinJoin:e.pin_join&&{visualAnnotation:e.pin_join.visual_annotation&&e.pin_join.visual_annotation.map(e=>e)},richMetadata:e.rich_metadata&&{article:e.rich_metadata.article&&{datePublished:e.rich_metadata.article.date_published},title:e.rich_metadata.title,url:e.rich_metadata.url},richSummary:e.rich_summary&&{displayName:e.rich_summary.display_name},seoTitle:e.seo_title,storyPinData:e.story_pin_data&&{metadata:e.story_pin_data.metadata&&{pinTitle:e.story_pin_data.metadata.pin_title}},storyPinDataId:e.story_pin_data_id,title:e.title}};var et=i(748367),ei=i(785893);let el=function(e){let{videoJsonData:t}=e;return t?(0,ei.jsx)(et.Z,{type:"application/ld+json",testId:"video-snippet",value:t}):null};var ea=i(50823),en=i(350118);let er=void 0!==n?n:n=i(108134);function eo({pin:e}){var t,i,l,a,n,o,f,S,j,L,$,J,W;let en,er;let eo=(0,s.ZP)(),{origin:ed,isBot:es}=(0,p.B)(),{pathname:eu}=(0,d.useLocation)();(0,ea.f5)(e)&&(en=(0,ea.lP)({data:e,origin:ed,i18n:eo}));let{isIdeaHowTo:ec}=function({pinKey:e}){let{data:t}=(0,X.u)(U,e,{useLegacyAdapter:B}),i=(0,r.useCallback)(e=>{var i,l,a,n,r;if(!t.title||!e||(null===(i=e.metadata)||void 0===i?void 0:i.template_type)!==2)return!1;let o=!!(0,m.RC)({storyPinDataMetadataPinTitle:null===(l=e.metadata)||void 0===l?void 0:l.pin_title,pinTitle:t.title}),d=!!e.metadata,s=!!(null!==(a=e.metadata)&&void 0!==a&&null!==(n=a.basics)&&void 0!==n&&null!==(r=n.list_blocks)&&void 0!==r&&r.find(e=>T(e,P))),u=!!x(e.pages,[0,1]),c=V(e.pages||[]),p=D(c),v=I(e),_=o&&d&&s&&u&&v.length>=2;return w({isEligible:_,validPages:c,validVideos:p,hasTitle:o,hasMetadata:d,hasInstructions:u,hasSupplies:s,validHowToSteps:v}),_},[t.title]);return{isIdeaHowTo:i}}({pinKey:{type:"deprecated",data:e}}),{generateIdeaRecipeJson:ep}=function({pin:e}){var t,i,l,a,n,o,d,u;let c=(0,s.ZP)(),{generateHowToSteps:p}=N({pin:e}),{getVideoJson:v}=F({pin:e}),{description:h}=(0,m.eK)({pinJoinVisualAnnotation:null===(t=e.pin_join)||void 0===t?void 0:t.visual_annotation,pinJoinAnnotationsWithLinks:null===(i=e.pin_join)||void 0===i?void 0:i.annotations_with_links,richMetadataDescription:null===(l=e.rich_metadata)||void 0===l?void 0:l.description,richSummaryDisplayName:null===(a=e.rich_summary)||void 0===a?void 0:a.display_name,closeupUnifiedDescription:e.closeup_unified_description}),f=(0,r.useCallback)(({origin:t,pathname:i},l,a)=>{var n,r,o,d;a.pages=V(a.pages||[]);let s=O(a),u=(0,m.RC)({storyPinDataMetadataPinTitle:null===(n=e.story_pin_data)||void 0===n?void 0:null===(r=n.metadata)||void 0===r?void 0:r.pin_title,pinTitle:e.title})||"",f=e.seo_title||"",y=(0,_.QO)(t,{userName:null===(o=e.native_creator)||void 0===o?void 0:o.username,fullName:null===(d=e.native_creator)||void 0===d?void 0:d.full_name}),b=H(a),{howToSteps:P,containsNestedVideo:k}=p({origin:t,pathname:i},l,a),{cookTime:w,prepTime:S,totalTime:T,recipeYield:A}=E(a),D=z(e.created_at),j=C(a),x=M(j),I={video:void 0};if(!k&&x){let e=(0,g.us)(x.duration||0),a=(0,g.yc)(e);I.video=v({origin:t,pathname:i},l,{duration:x.duration,height:x.height,thumbnail:x.thumbnail,url:x.url,width:x.width},"",a)}let L={};P.length>0&&b.length>0&&(L.recipeInstructions=P,L.recipeIngredient=b);let{fallbackTitle:$,fallbackDescription:F}=(0,_.fP)("recipe",u,c),{title:N,description:K}=(0,_.dn)(l,u,h,$,F,f);return{"@type":"Recipe",image:s,name:N,author:y,description:K,datePublished:D,cookTime:w,prepTime:S,totalTime:T,recipeYield:A,...L,...I}},[p,v,c,e.created_at,null===(n=e.native_creator)||void 0===n?void 0:n.full_name,null===(o=e.native_creator)||void 0===o?void 0:o.username,e.seo_title,null===(d=e.story_pin_data)||void 0===d?void 0:null===(u=d.metadata)||void 0===u?void 0:u.pin_title,e.title,h]);return{generateIdeaRecipeJson:f}}({pin:e}),{generateIdeaHowToJson:ev}=function({pin:e}){var t,i;let l=(0,s.ZP)(),{generateHowToSteps:a}=N({pin:e}),{getVideoJson:n}=F({pin:e}),o=(0,r.useCallback)(({origin:t,pathname:i},r,o)=>{var d,s;o.pages=V(o.pages||[]);let u=(0,m.RC)({storyPinDataMetadataPinTitle:null===(d=e.story_pin_data)||void 0===d?void 0:null===(s=d.metadata)||void 0===s?void 0:s.pin_title,pinTitle:e.title})||"",c=e.seo_title||"",p=O(o),v={supply:K(o)},{howToSteps:h,containsNestedVideo:f}=a({origin:t,pathname:i},r,o),y=C(o),b=M(y),P={video:void 0};if(!f&&b){let e=(0,g.us)(b.duration||0),l=(0,g.yc)(e);P.video=n({origin:t,pathname:i},r,{duration:b.duration,height:b.height,thumbnail:b.thumbnail,url:b.url,width:b.width},"",l)}let{fallbackTitle:k,fallbackDescription:w}=(0,_.fP)("howto",u,l),{title:S}=(0,_.dn)(r,u,"",k,w,c);return{"@type":"HowTo",name:S,image:p,...v,step:h,...P}},[a,n,l,e.seo_title,null===(t=e.story_pin_data)||void 0===t?void 0:null===(i=t.metadata)||void 0===i?void 0:i.pin_title,e.title]);return{generateIdeaHowToJson:o}}({pin:e}),e_=function({pin:e,origin:t,pathname:i,pageMetadata:l}){var a,n,r,o,d,u,c,p,v,m,h,f,y,b,P,k,w;let S=(0,s.ZP)(),{getVideoJson:T}=F({pin:e}),A=!!e.rich_metadata,D=!!(null!==(a=e.rich_metadata)&&void 0!==a&&a.recipe);if(!A||!D)return null;let V=null===(n=e.pinner)||void 0===n?void 0:n.full_name,j=null===(r=e.pinner)||void 0===r?void 0:r.username,x=(null===(o=e.rich_metadata)||void 0===o?void 0:null===(d=o.recipe)||void 0===d?void 0:d.name)||"",I=(null===(u=e.rich_metadata)||void 0===u?void 0:u.description)||"",L=(null===(c=e.rich_metadata)||void 0===c?void 0:null===(p=c.recipe)||void 0===p?void 0:p.servings_summary)&&(e.rich_metadata.recipe.servings_summary.serves||e.rich_metadata.recipe.servings_summary.summary),O=(0,_.QO)(t,{userName:j,fullName:V}),$=e.seo_title||"",E={video:void 0},C=e.videos&&(null===(v=e.videos.video_list)||void 0===v?void 0:v.V_720P),M=e.videos&&(null===(m=e.videos.video_list)||void 0===m?void 0:m.V_HLSV4),N=C||M;if(N){let e=(0,g.us)(N.duration||0),a=(0,g.yc)(e);E.video=T({origin:t,pathname:i},l,{duration:N.duration,height:N.height,thumbnail:N.thumbnail,url:N.url,width:N.width},"",a)}let{fallbackTitle:K,fallbackDescription:z}=(0,_.fP)("recipe",x,S),{title:H,description:X}=(0,_.dn)(l,x,I,K,z,$),U=(0,_.cO)(null===(h=e.rich_metadata)||void 0===h?void 0:null===(f=h.recipe)||void 0===f?void 0:f.aggregate_rating),B=U?{aggregateRating:U}:Object.freeze({}),J={...L?{recipeYield:L}:Object.freeze({}),...X?{description:X}:Object.freeze({}),...R(null===(y=e.rich_metadata)||void 0===y?void 0:null===(b=y.recipe)||void 0===b?void 0:b.cook_times),...Z(null===(P=e.rich_metadata)||void 0===P?void 0:P.recipe),...B,...E};return{"@type":"Recipe",name:H,description:X,author:O,image:(null===(k=e.images)||void 0===k?void 0:null===(w=k.orig)||void 0===w?void 0:w.url)||"",...J}}({pin:e,origin:ed,pathname:eu,pageMetadata:en}),{getVideoJsonData:em}=function({pin:e}){var t,i,l,a,n,o,d,u;let c=(0,s.ZP)(),{getVideoJson:p}=F({pin:e}),v=null!==(t=e.story_pin_data)&&void 0!==t&&t.pages&&e.story_pin_data.pages[0]&&e.story_pin_data.pages[0].blocks&&e.story_pin_data.pages[0].blocks[0]&&e.story_pin_data.pages[0].blocks[0].video_data?e.story_pin_data.pages[0].blocks[0].video_data.seo_view_count:null,m=e.videos&&(null===(i=e.videos.video_list)||void 0===i?void 0:i.V_720P),h=e.videos&&(null===(l=e.videos.video_list)||void 0===l?void 0:l.V_HLSV4),f=m||h,y=(0,r.useCallback)(({origin:t,pathname:i},l,a,n)=>{var r,o,d,s,u;let m;let h=null===(r=e.videos)||void 0===r?void 0:r.seo_view_count,y=h||v,b=y?parseInt(y,10):null;if(a){if(null!=f&&f.url){let e=(0,g.us)(f.duration||0),a=(0,g.yc)(e);m=p({origin:t,pathname:i},l,{duration:f.duration,height:f.height,thumbnail:f.thumbnail,url:f.url,width:f.width},"",a,b)}else{let a={imageSpec_orig:{url:null===(o=e.images)||void 0===o?void 0:null===(d=o.orig)||void 0===d?void 0:d.url},title:e.title,description:e.description,seoTitle:e.seo_title,createdAt:e.created_at,embed:{src:null===(s=e.embed)||void 0===s?void 0:s.src}};m=function({origin:e,pathname:t},i,l,a){var n,r;let{full_canonical_url:o}=null!=i?i:{},d=o||`${e}${t}`,s=l.title||"",u=l.description||"",c=l.seoTitle||"",{fallbackTitle:p,fallbackDescription:v}=(0,_.fP)("video",s,a),m=(0,g.h$)(l.createdAt),h=null===(n=l.embed)||void 0===n?void 0:n.src,f=(null===(r=l.imageSpec_orig)||void 0===r?void 0:r.url)||"",{title:y,description:b}=(0,_.dn)(i,s,u,p,v,c);return y&&b&&h&&f?{"@type":"VideoObject","@context":"http://schema.org/","@id":d,name:y,description:b,thumbnailUrl:f,uploadDate:m,embedUrl:h}:null}({origin:t,pathname:i},l,a,c)}}else{let a=M(n),r=!1;if(null!==(u=e.story_pin_data)&&void 0!==u&&u.total_video_duration){let t=e.story_pin_data.total_video_duration,i=(0,g.us)(t||0);r=(0,g.yc)(i)}a&&(m=p({origin:t,pathname:i},l,{duration:a.duration,height:a.height,thumbnail:a.thumbnail,url:a.url,width:a.width},"",r,b))}return{videoJsonData:m}},[p,c,e.created_at,e.description,null===(a=e.embed)||void 0===a?void 0:a.src,null===(n=e.images)||void 0===n?void 0:null===(o=n.orig)||void 0===o?void 0:o.url,e.seo_title,null===(d=e.story_pin_data)||void 0===d?void 0:d.total_video_duration,e.title,null===(u=e.videos)||void 0===u?void 0:u.seo_view_count,v,null==f?void 0:f.duration,null==f?void 0:f.height,null==f?void 0:f.thumbnail,null==f?void 0:f.url,null==f?void 0:f.width]);return{getVideoJsonData:y}}({pin:e}),{generateSocialMediaPostingJson:eg}=function({pinKey:e}){var t,i,l,a,n,o,d,u;let c=(0,s.ZP)(),{data:p}=(0,X.u)(q,e,{useLegacyAdapter:ee}),v=(0,m.Ly)({pinTitle:p.title,gridTitle:p.gridTitle,richSummaryDisplayName:null!==(t=null===(i=p.richSummary)||void 0===i?void 0:i.displayName)&&void 0!==t?t:"",richMetadataTitle:null!==(l=null===(a=p.richMetadata)||void 0===a?void 0:a.title)&&void 0!==l?l:"",storyPinDataId:p.storyPinDataId,storyPinDataMetadataPinTitle:null===(n=p.storyPinData)||void 0===n?void 0:null===(o=n.metadata)||void 0===o?void 0:o.pinTitle,pinJoinVisualAnnotation:null===(d=p.pinJoin)||void 0===d?void 0:d.visualAnnotation})||"",{url:g,article:h}=p.richMetadata||{},f=p.seoTitle||"",y=(null===(u=p.imageSpec_orig)||void 0===u?void 0:u.url)||"",b=(0,r.useCallback)(({origin:e},t,{pinnerFullName:i,pinnerUsername:l})=>{let{full_canonical_url:a}=null!=t?t:{},n=a||g,r=(0,_.QO)(e,{userName:l,fullName:i}),o=Y(p.description,p.title)||"",{fallbackTitle:d,fallbackDescription:s}=(0,_.fP)("default",v,c),{title:u,description:m}=(0,_.dn)(t,v,o,d,s,f);return{"@type":"SocialMediaPosting",author:r,headline:u,articleBody:m,image:y,datePublished:Q(p.createdAt,null==h?void 0:h.datePublished),...G(n,u)}},[c,p.description,p.title,g,y,p.createdAt,null==h?void 0:h.datePublished,v,f]);return{generateSocialMediaPostingJson:b}}({pinKey:{type:"deprecated",data:e}});if(!e||!e.pinner||!eo)return null;let eh=e.story_pin_data,ef=!!(null!==(t=e.videos)&&void 0!==t&&t.video_list),ey=(0,u.cL)({embedSrc:null===(i=e.embed)||void 0===i?void 0:i.src,embedSubtype:null===(l=e.embed)||void 0===l?void 0:l.subtype,embedType:null===(a=e.embed)||void 0===a?void 0:a.type}),eb={pinnerFullName:null===(n=e.pinner)||void 0===n?void 0:n.full_name,pinnerUsername:null===(o=e.pinner)||void 0===o?void 0:o.username},eP=(0,_.v_)(e.grid_title,e.rich_metadata),ek="standard_pin",ew=(0,c.r)(null===(f=e.rich_metadata)||void 0===f?void 0:null===(S=f.recipe)||void 0===S?void 0:S.name,!!(null!==(j=e.rich_metadata)&&void 0!==j&&null!==(L=j.recipe)&&void 0!==L&&L.categorized_ingredients),null===($=e.rich_metadata)||void 0===$?void 0:null===(J=$.recipe)||void 0===J?void 0:J.from_aggregated_data);ew?(er=e_,ek="recipe_pin"):eh&&function(e,t){var i,l,a,n,r;if((null===(i=t.metadata)||void 0===i?void 0:i.template_type)!==1)return!1;let o=!!(0,m.RC)({storyPinDataMetadataPinTitle:null===(l=t.metadata)||void 0===l?void 0:l.pin_title,pinTitle:e}),d=!!t.metadata,s=!!(null!==(a=t.metadata)&&void 0!==a&&null!==(n=a.basics)&&void 0!==n&&null!==(r=n.list_blocks)&&void 0!==r&&r.find(e=>T(e,b)||A(e))),u=!!x(t.pages,y),c=V(t.pages||[]),p=D(c),v=o&&d&&(s||u);return k({isEligible:v,validPages:c,validVideos:p,hasTitle:o,hasMetadata:d,hasIngredients:s,hasInstructions:u,hasNativeCreator:"N/A"}),v}(e.title,eh)?(er=ep({origin:ed,pathname:eu},en,eh),ek="recipe_idea_pin"):eh&&ec(eh)?(er=ev({origin:ed,pathname:eu},en,eh),ek="how_to_idea_pin"):eh?(er=eg({origin:ed},en,eb,eo),ek="idea_pin"):eP?(er=(0,v.VH)(en,e,eo),ek="product_pin"):er=eg({origin:ed},en,eb,eo);let{full_canonical_url:eS}=null!==(W=en)&&void 0!==W?W:{},eT=eS||`${ed}${eu}`,eA={...er,"@context":"http://schema.org/",mainEntityOfPage:{"@type":"WebPage","@id":eT}},eD=C(eh),eV=ef||ey,ej=!eV&&!!eD.length,ex=eV||ej;if((0,h.My)("closeup_main_pin.leaf_snippet",{isBot:es,jsonType:ek,containsVideo:ex}),!ex)return(0,ei.jsx)(r.Fragment,{children:(0,ei.jsx)(et.Z,{type:"application/ld+json",testId:"leaf-snippet",value:eA})});let{videoJsonData:eI}=em({origin:ed,pathname:eu},en,eV,eD);return(0,ei.jsxs)(r.Fragment,{children:[(0,ei.jsx)(et.Z,{type:"application/ld+json",testId:"leaf-snippet",value:eA}),ex&&(0,ei.jsx)(el,{videoJsonData:eI})]})}let ed=({graphqlRef:e})=>{let t=(0,o.useFragment)(er,e),i=(0,J.Z)(t);return(0,ei.jsx)(eo,{pin:i})},es=({pinId:e})=>{let t=(0,en.S6)()(e);return t?(0,ei.jsx)(eo,{pin:t}):null};function eu({graphqlRef:e,pinId:t}){return e?(0,ei.jsx)(ed,{graphqlRef:e}):(0,ei.jsx)(es,{pinId:t})}},218329:(e,t,i)=>{i.d(t,{VH:()=>o});var l=i(736688);let a=e=>{let t=e.replace(/[a-zA-Z]\./g,""),i=t.replace(/\./g,","),l=i.replace(/,([^,]*)$/g,".$1"),a=l.replace(/[^0-9.]/g,"");return parseFloat(a)},n=e=>{let t;let i=e.rich_metadata&&e.rich_metadata.products&&e.rich_metadata.products[0],l=null==i?void 0:i.offer_summary;return l?(!0===l.in_stock?t="https://schema.org/InStock":!1===l.in_stock&&(t="https://schema.org/OutOfStock"),l.min_price)?{"@type":"AggregateOffer",lowPrice:a(l.min_price),highPrice:l&&l.max_price?a(l.max_price):void 0,priceCurrency:e.price_currency||"",...t?{availability:t}:Object.freeze({})}:l.price?{"@type":"Offer",price:a(l.price),priceCurrency:e.price_currency||"",url:e.rich_metadata&&e.rich_metadata.url||e.link||e.domain||"",...t?{availability:t}:Object.freeze({})}:void 0:void 0},r=e=>e?Object.keys(e).map(t=>{var i;return null===(i=e[t])||void 0===i?void 0:i.url}).filter(Boolean):[],o=(e,t,i)=>{var a;let o=t.rich_metadata&&t.rich_metadata.products&&t.rich_metadata.products[0],d=o&&o.name||t.grid_title||"",s=t.seo_title||"",u={"@type":"Brand",name:t.rich_metadata&&t.rich_metadata.site_name||t.link_domain&&t.link_domain.official_user&&t.link_domain.official_user.full_name||""},c=t.rich_metadata&&t.rich_metadata.description||t.description||t.description_html||t.rich_metadata&&t.rich_metadata.title||t.title||"",p=r(t.images),v=n(t),_=(0,l.cO)(null===(a=t.rich_metadata)||void 0===a?void 0:a.aggregate_rating),{fallbackTitle:m,fallbackDescription:g}=(0,l.fP)("product",d,i),{title:h,description:f}=(0,l.dn)(e,d,c,m,g,s);return{"@type":"Product",name:h,aggregateRating:_,brand:u,description:f,image:p,offers:v}}},740193:(e,t,i)=>{i.d(t,{Ad:()=>a,LU:()=>d,Lm:()=>c,QQ:()=>v,V_:()=>p,h$:()=>u,jt:()=>o,n_:()=>s,us:()=>n,yc:()=>r});var l=i(736688);let a=0,n=e=>{let t=Math.floor(e/1e3);return t>=a?t:a},r=e=>e>=30,o=e=>e>=5,d=e=>{let t=n(e||a);return`PT${t}S`},s=e=>e?`${e} px`:null,u=e=>e?new Date(Date.parse(e)).toISOString():new Date().toISOString();function c(e,t){return{"@type":"InteractionCounter",InteractionType:{"@type":`https://schema.org/${e}`},InteractionCount:t||0}}function p(e,t,i,l){return{"@type":"Person",name:t,url:e,alternateName:i||"",interactionStatistic:[c("FollowAction",l)]}}let v=({origin:e,pathname:t},i,o,s,c,p,v,_,m)=>{let g;let h=n(o.duration||0),f=r(h),{full_canonical_url:y}=null!=i?i:{},b=y||`${e}${t}`,{fallbackTitle:P,fallbackDescription:k}=(0,l.fP)("video",p,s),{title:w,description:S}=(0,l.dn)(i,p,_,P,k,v),T=d(o.duration||a),A=o.url||"",D=u(m);f&&(g={"@type":"SeekToAction",target:`${b}?t={seek_to_second_number}`,"startOffset-input":"required name=seek_to_second_number"});let V={"@type":"VideoObject","@context":"http://schema.org/","@id":b,name:w,description:S,caption:S,thumbnailUrl:o.thumbnail||"",uploadDate:D,duration:T||void 0,contentUrl:A,potentialAction:g};return{videoJsonData:V}}},736688:(e,t,i)=>{i.d(t,{QO:()=>d,V3:()=>n,cO:()=>p,dn:()=>u,fP:()=>c,v_:()=>o});var l=i(841726),a=i(867820);let n=e=>{let{thumbnail:t,url:i,width:l,height:a,duration:n}=e||{};return t&&i&&l&&a&&{thumbnail:t,url:i,width:l,height:a,duration:n}||void 0},r=({isEligible:e,hasName:t,hasAggregateRating:i,hasOffers:l})=>{(0,a.My)("closeup_main_pin.leaf_snippet.is_product",{isEligible:e,hasName:t,hasAggregateRating:i,hasOffers:l})};function o(e,t){if(t&&t.products&&t.products[0]){let i=t.products[0],l=!!(i.name||e),a=!!(t.aggregate_rating&&(0!==t.aggregate_rating.rating_count||0!==t.aggregate_rating.review_count)&&!Number.isNaN(parseFloat(t.aggregate_rating.rating_value))),n=!!(i.offer_summary&&(i.offer_summary.min_price||i.offer_summary.price)),o=l&&(a||n);return r({isEligible:o,hasName:l,hasAggregateRating:a,hasOffers:n}),o}return!1}let d=(e,{userName:t,fullName:i})=>{let l=t||"";return{"@type":"Person",name:i||l,url:e+"/"+l}},s=e=>(0,l.o)(e||"").trim();function u(e,t,i,l,a,n){i=i.trim(),t=t.trim();let r=t||n||i||l;if(!e||!e.metatags)return{title:r,description:i||t||a};let{description:o=""}=e.metatags,d=s(o),u=d||t||a;return{title:r,description:u}}let c=(e,t,i)=>{let l=t;return i?{fallbackTitle:l="recipe"===e?i._('Pinterest Recipe', 'pin.closeup.leafsnippet.recipe', 'Default recipe title and description for crawlers'):"howto"===e?i._('Pinterest How To', 'pin.closeup.leafsnippet.howto', 'Default how to title and description for crawlers'):"video"===e?i._('Pinterest Video', 'pin.closeup.leafsnippet.video', 'Default video title and description for crawlers'):"product"===e?i._('Pinterest Product', 'pin.closeup.leafsnippet.product', 'Default product title and description for crawlers'):i._('Pin page', 'pin.closeup.leafsnippet.pin', 'Default pin title and description for crawlers'),fallbackDescription:l}:{fallbackTitle:l,fallbackDescription:l}},p=e=>{if(!e)return;let t=e.rating_count,i=e.review_count;if(!(!(t||i)||Number.isNaN(parseFloat(e.rating_value))))return{"@type":"AggregateRating",ratingValue:e.rating_value,ratingCount:t||i,bestRating:5,worstRating:1}}},841726:(e,t,i)=>{function l(e,t){let i=(((t||"")+"").toLowerCase().match(/<[a-z][a-z0-9]*>/g)||[]).join("");return e.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/<!--[\s\S]*?-->|<\?(?:php)?[\s\S]*?\?>|<!--[\s\S]*/gi,"").replace(/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi,(e,t)=>i.indexOf("<"+t.toLowerCase()+">")>-1?e:"")}i.d(t,{Z:()=>a,o:()=>l});let a=e=>e.replace(/(<([^>]+)>)/gi,"")},784641:(e,t,i)=>{i.d(t,{T7:()=>n,Y_:()=>s,bl:()=>o,d9:()=>c,nx:()=>u,xt:()=>d}),i(883119);var l=i(780280),a=i(19121);function n(e,t,i,l){let a=i.toLowerCase().replace(/[.,\/#!?$%\^&\*+;:{}=\-_`~()\â€™'"]/g,"").trim().replace(/\s+/g,"-");return`/today/${t?"shop":0===e||2===e?"trending":1===e?"best":"article"}/${encodeURIComponent(a)}/${l}/`}let r={en:["US","GB","CA","IN","AU","ID"],es:["MX","PE","AR","CL","CO","ES","VE","UY","PY","EC","BO","CR","DO","SV","GT","HN","NI","PR","PA"],pt:["BR"],de:["DE","AT","CH"],fr:["FR"],id:["ID"],ja:["JP"],it:["IT"],sv:["SE"]};function o(){var e;let t=(0,l.B)(),i=(0,a.Z)(),n=i.isAuth?i.country:t.country;if(void 0===t||void 0===t.locale)return!1;let o=t.locale.substring(0,2);return null===(e=r[o])||void 0===e?void 0:e.includes(n)}let d=(e,t,i)=>e||t||i||"",s=e=>"todayarticle"===e.type,u=e=>Array.isArray(e)&&e.length>0&&e.every(e=>"story"===e.type),c=(e,t)=>(null!=e?e:1)/(null!=t?t:1)},170168:(e,t,i)=>{i.d(t,{Ag:()=>n,C0:()=>d,L1:()=>p,Vi:()=>r,YD:()=>c,kS:()=>a,oo:()=>o,p3:()=>v,vC:()=>s,vI:()=>u});var l=i(401060);let a="https://www.pinterest.com/business/hub/",n="https://www.pinterest.com/homefeed/",r="www.pinterest.com",o="https://help.pinterest.com",d=`${(0,l.Z)({site:"www"})}`,s=(0,l.Z)({site:"developers"}),u=`${(0,l.Z)({site:"sterling"})}`,c=`${(0,l.Z)({site:"analytics"})}`,p=`${(0,l.Z)({site:"trends"})}`,v=`${(0,l.Z)({site:"www",path:"/product-catalogs/data-source/?advertiserId="})}`}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/packages-rich-snippet-LeafSnippet-793632c62f0e0b55.mjs.map